<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Article Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai@^0.14.0",
          "marked": "https://esm.sh/marked@13.0.0"
        }
      }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "AI-Powered SEO Article Generator",
      "description": "A tool to generate high-quality, SEO-optimized articles using detailed content parameters and AI.",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "All",
      "browserRequirements": "Requires a modern browser with JavaScript enabled.",
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>
    <script type="module" src="index.tsx"></script>
</head>
<body>
    <header class="hero-section">
        <div class="hero-content">
            <h1>AI-Powered SEO Article Generator</h1>
            <p>Craft perfectly optimized articles by providing detailed content requirements.</p>
        </div>
        <div class="theme-switcher">
            <label for="high-contrast-toggle" class="switch-label">High Contrast</label>
            <label class="switch">
                <input type="checkbox" id="high-contrast-toggle" aria-label="Toggle high contrast mode">
                <span class="slider round"></span>
            </label>
        </div>
    </header>
    <main class="container">
        <section class="controls-section" aria-labelledby="controls-heading">
            <div class="controls">
                <h2 id="controls-heading">Content Parameters</h2>
                <form id="article-form">
                    <div class="form-group">
                        <label for="primary-keyword">Primary Keyword*</label>
                        <input type="text" id="primary-keyword" name="primary-keyword" placeholder="e.g., 'sustainable gardening'" required>
                    </div>

                    <!-- Competitor Analysis Section -->
                    <div class="form-group">
                        <fieldset>
                            <legend>Competitor Analysis</legend>
                            <div class="checkbox-group">
                                <div>
                                    <input type="checkbox" id="analyze-competitors" name="analyze-competitors">
                                    <label for="analyze-competitors">Analyze Top 10 SERP Results</label>
                                </div>
                            </div>
                            <p class="fieldset-helper-text">Uses Google Search to research current top ranking articles and identify content gaps (Skyscraper Technique).</p>
                        </fieldset>
                    </div>

                    <!-- Helpful Content & E-E-A-T Section -->
                    <div class="form-group">
                        <fieldset style="border-color: var(--primary-color);">
                            <legend style="color: var(--primary-color);">Helpful Content & E-E-A-T</legend>
                            <p class="fieldset-helper-text">Align with Google's guidelines for reliable, people-first content.</p>
                            
                            <div style="margin-bottom: 1rem;">
                                <label for="reader-problem">Reader's Core Problem</label>
                                <input type="text" id="reader-problem" name="reader-problem" placeholder="What specific problem is the user trying to solve? (e.g., 'Fixing a leaky faucet without tools')">
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <label for="unique-insights">Unique Experience / Data (The "E" in E-E-A-T)</label>
                                <textarea id="unique-insights" name="unique-insights" placeholder="Paste personal anecdotes, original data, or case studies here. This prevents generic AI content." style="min-height: 100px;"></textarea>
                            </div>
                            
                            <div class="checkbox-group">
                                <div>
                                    <input type="checkbox" id="people-first-mode" name="people-first-mode" checked>
                                    <label for="people-first-mode">Enforce "People-First" Filter (Removes fluff)</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <div class="form-group">
                        <div class="form-group-header">
                            <label for="secondary-keywords">Secondary Keywords</label>
                            <button type="button" class="generate-single-keyword-btn" data-type="Secondary Keywords" data-target="secondary-keywords" aria-label="Generate Secondary Keywords">
                                <span class="btn-text">Generate</span>
                                <div class="spinner-small hidden"></div>
                            </button>
                        </div>
                        <textarea id="secondary-keywords" name="secondary-keywords" placeholder="e.g., 'organic soil', 'drought-resistant plants', 'urban farming'"></textarea>
                    </div>
                    
                    <!-- Internal Linking Strategy -->
                    <div class="form-group">
                        <fieldset>
                            <legend>Internal Linking (Sitemap)</legend>
                            <p class="fieldset-helper-text">Paste your sitemap URLs here. AI will select relevant ones to link internally.</p>
                            <textarea id="internal-sitemap" name="internal-sitemap" placeholder="https://example.com/blog/article-1&#10;https://example.com/services&#10;..."></textarea>
                        </fieldset>
                    </div>

                    <div class="form-group">
                        <div class="form-group-header">
                            <label for="cluster-keywords">Cluster Keywords</label>
                            <button type="button" class="generate-single-keyword-btn" data-type="Cluster Keywords" data-target="cluster-keywords" aria-label="Generate Cluster Keywords">
                                <span class="btn-text">Generate</span>
                                <div class="spinner-small hidden"></div>
                            </button>
                        </div>
                        <textarea id="cluster-keywords" name="cluster-keywords" placeholder="e.g., 'composting', 'pest control', 'watering techniques'"></textarea>
                    </div>
                    
                    <!-- NLP Section Start -->
                    <div class="form-group">
                        <fieldset>
                            <legend>NLP & Semantic Analysis</legend>
                            <p class="fieldset-helper-text">Optimize for search intent and Google's Knowledge Graph.</p>
                            
                            <div class="form-group-header">
                                <label for="nlp-entities">Salient Entities & Concepts</label>
                                <button type="button" id="analyze-nlp-btn" class="secondary-btn">
                                    <span class="btn-text">Analyze & Suggest</span>
                                    <div class="spinner-small hidden"></div>
                                </button>
                            </div>
                            <textarea id="nlp-entities" name="nlp-entities" placeholder="e.g., 'Photosynthesis', 'Nitrogen Cycle' (Auto-generated via button)" style="min-height: 100px;"></textarea>
                        </fieldset>
                    </div>

                    <div class="form-group">
                        <label for="country-slang">Target Country Slang (Optional)</label>
                        <input type="text" id="country-slang" name="country-slang" placeholder="e.g., 'Australian'">
                    </div>
                    <div class="form-group">
                        <label for="author-bio">Author Bio (for E-E-A-T)</label>
                        <textarea id="author-bio" name="author-bio" placeholder="e.g., 'Jane Doe is a certified horticulturalist with over 15 years of experience...'"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="article-length">Article Length</label>
                        <select id="article-length" name="article-length">
                            <option value="short (~500 words)">Short (~500 words)</option>
                            <option value="medium (~1000 words)" selected>Medium (~1000 words)</option>
                            <option value="long (~2000 words)">Long (~2000 words)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <fieldset>
                            <legend>External Linking</legend>
                            <div class="checkbox-group">
                                <div>
                                    <input type="checkbox" id="add-external-links" name="add-external-links">
                                    <label for="add-external-links">Add External Links</label>
                                </div>
                            </div>
                            <div id="external-links-count-container" class="form-group hidden" style="margin-top: 1rem; margin-bottom: 0;">
                                <label for="external-links-count">Number of Links</label>
                                <input type="number" id="external-links-count" name="external-links-count" value="3" min="1" max="10">
                            </div>
                        </fieldset>
                    </div>
                    
                    <!-- Multimedia Section -->
                    <div class="form-group">
                        <fieldset>
                            <legend>Multimedia Settings</legend>
                            
                            <div class="form-group">
                                <label for="multimedia-count">Number of Multimedia Placeholders</label>
                                <input type="number" id="multimedia-count" name="multimedia-count" value="3" min="0" max="10">
                            </div>

                            <div class="form-group">
                                <label for="visual-model">Visual Intelligence Model</label>
                                <select id="visual-model" name="visual-model">
                                    <option value="gemini-2.5-flash-image">Gemini Flash (Fast & Versatile)</option>
                                    <option value="gemini-3-pro-image-preview">Gemini 3 Pro (High Quality 4K - Requires Auth)</option>
                                    <option value="imagen-4.0-generate-001">Imagen 4 (Legacy High Performance)</option>
                                </select>
                                <div id="pro-model-auth" class="hidden" style="margin-top: 0.5rem;">
                                    <button type="button" id="select-api-key-btn" class="secondary-btn" style="width: 100%; border: 1px solid var(--primary-color);">
                                        Select Paid API Key for Gemini Pro
                                    </button>
                                    <p class="fieldset-helper-text" style="color: var(--primary-color);">Note: Paid keys are required for 2K/4K Pro generations. <a href="https://ai.google.dev/gemini-api/docs/billing" target="_blank" style="color: inherit; text-decoration: underline;">Billing Docs</a></p>
                                </div>
                            </div>

                            <div id="pro-quality-settings" class="hidden">
                                <div class="form-group">
                                    <label for="image-size">Image Quality</label>
                                    <select id="image-size" name="image-size">
                                        <option value="1K">1K Resolution</option>
                                        <option value="2K">2K Resolution (Ultra)</option>
                                        <option value="4K">4K Resolution (Master)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="image-style">Image Style (Optional)</label>
                                <input type="text" id="image-style" name="image-style" placeholder="e.g., 'photorealistic', 'cinematic lighting', 'vector art'">
                            </div>
                        </fieldset>
                    </div>

                    <button type="submit" id="generate-btn">Generate Article</button>
                </form>
            </div>
        </section>
        <section class="output-section" aria-labelledby="output-heading">
            <div class="summary-card">
                <h3>Key Info</h3>
                <div class="summary-item">
                    <span>Primary Keyword</span>
                    <strong id="summary-keyword">Not Set</strong>
                </div>
                <div class="summary-item">
                    <span>Article Length</span>
                    <strong id="summary-length">Medium</strong>
                </div>
            </div>
            <div class="output-container">
                 <h2 id="output-heading" class="visually-hidden">Generated Article Output</h2>
                <div id="output-stats" class="hidden">
                    <div class="stat-item">
                        <strong>SEO Optimization Score</strong>
                        <span><span id="seo-score">--</span> / 100</span>
                    </div>
                    <div class="stat-item">
                        <strong>Readability Score</strong>
                        <span><span id="readability-score">--</span> (Flesch-Kincaid Grade Level)</span>
                    </div>
                </div>
                
                <div id="meta-description-container" class="hidden" style="margin-bottom: 1.5rem; padding: 1rem; background: #050505; border: 1px solid var(--border-color); border-radius: 6px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--primary-color);">Auto-Generated Meta Description</strong>
                        <span id="meta-char-count" style="font-size: 0.8rem; color: var(--text-muted);">0 / 160</span>
                    </div>
                    <p id="meta-description-text" style="font-size: 0.95rem; line-height: 1.4; color: var(--text-color); margin: 0;"></p>
                </div>

                <div id="output-actions" class="hidden">
                    <button id="copy-btn" class="action-btn">Copy to Clipboard</button>
                    <button id="download-btn" class="action-btn">Export for WordPress (HTML)</button>
                </div>
                <div id="loading-indicator" class="hidden">
                    <div class="spinner"></div>
                    <p>Generating your article...</p>
                </div>
                <div id="output-placeholder">
                    <img src="https://images.unsplash.com/photo-1521737711867-e3b97375f902?q=80&w=2500&auto=format&fit=crop" alt="A team working collaboratively on laptops in a modern office setting." class="placeholder-bg-image">
                    <div class="placeholder-content">
                         <p>Your generated article will appear here.</p>
                    </div>
                </div>
                <article id="output" aria-live="polite"></article>
            </div>
        </section>
    </main>
</body>
</html>